var meServices=angular.module("meServices",["ngResource"]);meServices.factory("meFactory",["$http","$q","storageFactory",function(a,c,d){var b={default_state:{id:null,authenticated:0,username:"",timestamp:null},getMyCachedInfo:function(){return d.restore_state("my_info",b.default_state)},saveInfo:function(a){a=angular.copy(a);a.timestamp=new Date;d.save_state("my_info",a)},fetchMyInfo:function(){return a.get("/api/v1/me/")}};return b}]);
function MyInfoProviderFunction(){this.$get=["$q","meFactory",function(a,c){var d=a.defer();c.fetchMyInfo().success(function(a){d.resolve(a)}).error(function(a){d.reject(a)});return d.promise}]}meServices.provider("MyInfo",MyInfoProviderFunction);"use strict";var storageServices=angular.module("storageServices",["ngResource"]);
function defineStorageService(a){return{save_state:function(c,d){var b={},e;for(e in d)b[e]=d[e];a.save(c,b)},restore_state:function(c,d){try{var b=a.restore(c),e;for(e in d)"undefined"==typeof b[e]&&(b[e]=d[e]);return b}catch(g){return d}}}}storageServices.factory("queryStorageFactory",["$location",function(a){return defineStorageService({save:function(c,d){return a.search(JSON.parse(JSON.stringify(d)))},restore:function(){return a.search()}})}]);
storageServices.factory("storageFactory",[function(){return defineStorageService({save:function(a,c){localStorage[a]=JSON.stringify(c);return localStorage[a]},restore:function(a){return JSON.parse(localStorage[a])}})}]);"use strict";var relatedService=angular.module("relatedService",["ngResource"]);
relatedService.factory("relatedFactory",["$http",function(a){return{getRelated:function(c){var d=c.sort_order,b=c.url+"?page="+c.page+"&page_size="+c.results_per_page;c.reverse&&(d="-"+d);return a.get(b+("&order_by="+d))}}}]);
angular.module("Utilities",[]).factory("Empty",[function(){return function(a){return void 0===a||null===a||""===a?!0:!1}}]).factory("Range",[function(){return function(a,c){for(var d=[],b=0;b<a;b++)d.push({id:b,value:c});return d}}]).factory("Stars",[function(){return function(a){var c=[];a=parseFloat(a);for(var d=Math.floor(a),b=0;b<d;b++)c.push({id:b,value:"fa fa-star"});0<a%1&&c.push({id:b,value:"fa fa-star-half-o"});for(b=c.length;5>b;b++)c.push({id:b,value:"fa fa-star-o"});return c}}]);"use strict";
var accountControllers=angular.module("accountControllers",[]);
accountControllers.controller("MyRolesCtrl",["$scope","$location","$timeout","meFactory","my_info",function(a,c,d,b,e){a.my_info=e;a.polling=!1;a.update_data=function(c){for(var d in c.summary_fields.roles){var b=c.summary_fields.roles[d],e;for(e in a.my_info.summary_fields.roles){var f=a.my_info.summary_fields.roles[d];if(f.id==b.id){f.import.state!=b.import.state&&(f.import.state=b.import.state,f.import.status_message=b.import.status_message);break}}}};a.set_polling=function(){for(var b in a.my_info.summary_fields.roles){var c=
a.my_info.summary_fields.roles[b];if("SUCCESS"!=c.import.state&&"FAILURE"!=c.import.state){a.polling=!0;return}}a.polling=!1};a.refresh=function(){b.fetchMyInfo().success(function(b){a.update_data(b)}).error(function(a){})};a.poll=function(){a.set_polling();a.polling&&d(function(){a.refresh();a.poll()},1E3)};a.poll()}]);"use strict";var accountsApp=angular.module("accountsApp","ngRoute ngSanitize ngCookies ui.bootstrap meServices storageServices relatedService accountControllers Utilities".split(" "));
accountsApp.config(["$routeProvider","MyInfoProvider",function(a,c){a.when("/",{templateUrl:"/static/partials/myroles.html",controller:"MyRolesCtrl",resolve:{my_info:["$q","meFactory",c.$get[2]]}}).otherwise({redirectTo:"/"})}]);
