<ng-include src="'/static/partials/pageHeaderWidget.html'"></ng-include>

<div class="container" id="galaxy-explore-page">

    <div class="row table-row">
        <div class="col-sm-4 load-container">
            <table class="table ga-table-striped">
               <caption>Most Starred</caption>
               <thead>
               <tr>
                   <th class="col-sm-9">Role</th>
                   <th class="col-sm-3 text-right nowrap">Stars</th>
               </tr>
               </thead>
               <tbody>
               <tr ng-repeat="role in mostStarred">
                   <td class="col-sm-9">
                       <div class="clip">
                           <a ng-href="/{{ role.username }}/{{role.name}}/" tooltip-placement="top" 
                              uib-tooltip="{{role.username}}.{{role.name}}">{{role.username}}.{{role.name}}</a>
                       </div>
                   </td>
                   <td class="col-sm-3 text-right">{{role.stargazers_count}}</td>
               </tr>
               </tbody>
            </table>
            <div ng-show="!loading.mostStarred" class="view-more-container">
                <a href="/list#/roles?page=1&page_size=10&order=-stargazers_count,name" class="btn btn-default btn-sm">View More</a>
            </div>
            <div ng-show="loading.mostStarred" class="loader">
                <div class="loader-inner line-scale">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>    
        </div>
        <div class="col-sm-4 load-container">
            <table class="table ga-table-striped">
               <caption>Most Watched</caption>
               <thead>
               <tr>
                   <th class="col-sm-8">Role</th>
                   <th class="col-sm-4 text-right nowrap">Watchers</th>
               </tr>
               </thead>
               <tbody>
               <tr ng-repeat="role in mostWatched">
                   <td class="col-sm-8"><div class="clip">
                       <a href="/{{ role.username }}/{{role.name}}/" tooltip-placement="top" 
                         uib-tooltip="{{role.username}}.{{role.name}}">{{role.username}}.{{role.name}}</a></div>
                    </td>
                   <td class="col-sm-4 text-right">{{role.watchers_count}}</td>
               </tr>
               </tbody>
            </table>
            <div ng-show="!loading.mostWatched" class="view-more-container">
                <a href="/list#/roles?page=1&page_size=10&order=-watchers_count,name" class="btn btn-default btn-sm">View More</a>
            </div>
            <div ng-show="loading.mostWatched" class="loader">
                <div class="loader-inner line-scale">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </div>
        <div class="col-sm-4 load-container">
            <table class="table ga-table-striped">
               <caption>Most Downloaded</caption>
               <thead>
               <tr>
                   <th class="col-sm-8">Role</th>
                   <th class="col-sm-4 text-right nowrap">Downloads</th>
               </tr>
               </thead>
               <tbody>
               <tr ng-repeat="role in mostDownloaded">
                   <td class="col-sm-8"><span class="clip">
                       <a href="/{{ role.username }}/{{role.name}}/" tooltip-placement="top" 
                         uib-tooltip="{{role.username}}.{{role.name}}">{{role.username}}.{{role.name}}</a></span>
                    </td>
                   <td class="col-sm-4 text-right">{{role.download_count}}</td>
               </tr>
               </tbody>
            </table>
            <div ng-show="!loading.mostDownloaded" class="view-more-container">
                <a href="/list#/roles?page=1&page_size=10&order=-download_count,name" class="btn btn-default btn-sm">View More</a>
            </div>
            <div ng-show="loading.mostDownloaded" class="loader">
                <div class="loader-inner line-scale">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>    
        </div>
    </div> <!-- row -->

    <div class="button-row text-right">
       <a class="btn btn-md btn-primary" href="/list#/roles">View All Roles</a>
    </div>

    <div class="row table-row">
        <div class="col-md-4 load-container">
            <!-- Top Categories -->
            <table class="table ga-table-striped">
               <caption>Top Tags</caption>
               <thead>
               <tr>
                   <th class="col-sm-9">Tag</th>
                   <th class="col-sm-3 text-right"># Roles</th>
               </tr>
               </thead>
               <tbody>
               <tr ng-repeat="tag in tags">
                   <td class="col-sm-9">
                       <a href="list#/roles?page=1&per_page=10&order=username,name&tags={{ tag.tag }}">{{ tag.tag }}</a></td>
                   <td class="col-sm-3 text-right">{{tag.roles}}</td>
               </tr>
               </tbody>
            </table>
            <div ng-show="!loading.tags" class="view-more-container">
                <a href="/list#/roles?page=1&page_size=10" class="btn btn-default btn-sm">View More</a>
            </div>
            <div ng-show="loading.tags" class="loader">
                <div class="loader-inner line-scale">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </div>
        <div class="col-md-4 load-container">
            <table class="table ga-table-striped">
                <caption>Top Contributors</caption>
                <thead>
                <tr>
                    <th class="col-sm-8">User</th>
                    <th class="col-sm-4 text-right"># Roles</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="user in topContributors">
                    <td class="col-sm-8"><a ng-href="/{{ user.namespace }}/">{{ user.namespace }}</a></td>
                    <td class="col-sm-4 text-right">{{ user.role_count }}</td>
                </tr>
                </tbody>
            </table>
            <div ng-show="!loading.topContributors" class="view-more-container">
                <a href="/list#/roles" class="btn btn-default btn-sm">View More</a>
            </div>
            <div ng-show="loading.topContributors" class="loader">
                <div class="loader-inner line-scale">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </div>
        <div class="col-md-4 load-container">
            <table class="table ga-table-striped">
               <caption>Newest Roles</caption>
               <thead>
               <tr>
                   <th class="col-sm-8">Role</th>
                   <th class="col-sm-4 text-right nowrap">Added On</th>
               </tr>
               </thead>
               <tbody>
               <tr ng-repeat="role in new_roles">
                   <td class="col-sm-8">
                      <div class="clip">
                         <a href="/{{ role.username }}/{{role.name}}/" tooltip-placement="top" 
                              uib-tooltip="{{role.username}}.{{role.name}}">{{role.username}}.{{role.name}}</a>
                      </div>
                   </td>
                   <td class="col-sm-4 text-right">{{role.created|date:'dd MMM'}}</td>
               </tr>
               </tbody>
            </table>
            <div ng-show="!loading.newRoles" class="view-more-container">
                <a href="/list#/roles?page=1&page_size=10&order=-created,name" class="btn btn-default btn-sm">View More</a>
            </div>
            <div ng-show="loading.newRoles" class="loader">
                <div class="loader-inner line-scale">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>    
        </div>
    </div>

    <div class="button-row text-right">
       <a class="btn btn-md btn-primary" href="/list#/users">View All Users</a>
    </div>

</div> <!-- container -->
