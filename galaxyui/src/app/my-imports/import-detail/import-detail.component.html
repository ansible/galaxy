<div class="import-details-container" *ngIf="importTask">
    <h5 class="title">{{ importTask.summary_fields.namespace.name + '.' + importTask.summary_fields.repository.name }}</h5>
    <div class="title-bar" >
        <div class="branch">
            <div class="commit">{{ importTask.import_branch }} <span class="message">{{ importTask.commit_message }}</span></div>
            <div class="last-run" >{{ importTask.last_run }} <span class="loading-status" *ngIf="checking"><i class="fa fa-lg fa-refresh fa-spin"></i></span></div>

            <div class="travis-status" *ngIf="importTask.travis_status_url">
                <a href="{{ importTask.travis_build_url }}" target="_blank">
                    <img src="{{ importTask.travis_status_url }}" />
                </a>
            </div>

        </div>
        <div class="stats">
            <div class="count commit">
                <a *ngIf="importTask.travis_commit_url" href="{{ importTask.travis_commit_url }}" target="_blank">
                    <div class="icon"><i class="fa fa-github"></i></div> Commit {{ importTask.commit.substring(0,7) }}</a>
            </div>
        </div>
    </div>

    <div class="message-list" *ngIf="importTask.summary_fields.task_messages.length">
        <div class="message" *ngFor="let message of importTask.summary_fields.task_messages">
            <span class="text {{ message.message_type | lowercase }}">{{ message.message_text }}</span>
        </div>
    </div>

    <div class="message-list" *ngIf="!importTask.summary_fields.task_messages.length">
        <div class="message" *ngIf="importTask.state == 'PENDING'">
            <span class="text warning">Waiting for import to start...</span>
        </div>
    </div>
</div>
